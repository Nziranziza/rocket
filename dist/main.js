!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(2);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"canvasElement",void 0),i(this,"context",void 0),this.canvasElement=t,this.context=t.getContext("2d"),t.setAttribute("height",.87*window.innerHeight),t.setAttribute("width",n.VIEWPORT_WIDTH*n.SCREEN_VIEWPORT_RATIO)}var t,r,a;return t=e,(r=[{key:"drawImage",value:function(e,t,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"source-over",c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,f=arguments.length>10?arguments[10]:void 0,d=o*a,p=i*a,h=(t-(d-o)/2)*n.SCREEN_VIEWPORT_RATIO,y=(r-(p-i)/2)*n.SCREEN_VIEWPORT_RATIO;this.context.save(),this.context.globalCompositeOperation=s,this.context.globalAlpha=u,this.context.drawImage(e,h,y,d*n.SCREEN_VIEWPORT_RATIO,p*n.SCREEN_VIEWPORT_RATIO),this.context.font="20px Verdana",this.context.strokeStyle="blue",c&&l&&this.context.strokeText("".concat(c," ").concat(f," ").concat(l),h,y),this.context.restore()}},{key:"clear",value:function(){this.context.fillStyle="#BDBDBD",this.context.fillRect(0,0,this.canvasElement.clientWidth,this.canvasElement.clientHeight)}},{key:"fillRect",value:function(e,t,r,o,i){this.context.fillStyle=e,this.context.globalCompositeOperation="source-over",this.context.fillRect(t*n.SCREEN_VIEWPORT_RATIO,r*n.SCREEN_VIEWPORT_RATIO,o*n.SCREEN_VIEWPORT_RATIO,i*n.SCREEN_VIEWPORT_RATIO)}},{key:"writeText",value:function(e,t,r,o,i,a){this.context.fillStyle=r,this.context.font=t,this.context.textAlign=o,this.context.fillText(e,i*n.SCREEN_VIEWPORT_RATIO,a*n.SCREEN_VIEWPORT_RATIO)}},{key:"height",get:function(){return n.VIEWPORT_HEIGHT}},{key:"width",get:function(){return n.VIEWPORT_WIDTH}},{key:"viewportRatio",get:function(){return n.SCREEN_VIEWPORT_RATIO}},{key:"htmlElement",get:function(){return this.canvasElement}}])&&o(t.prototype,r),a&&o(t,a),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n;(n=r(0))&&n.__esModule;function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"load",value:function(){throw new TypeError('Abstract class "Entity" cannot be instantiated directly.')}},{key:"draw",value:function(e){throw new TypeError('Abstract class "Entity" cannot be instantiated directly.')}},{key:"update",value:function(e){throw new TypeError('Abstract class "Entity" cannot be instantiated directly.')}}])&&o(t.prototype,r),n&&o(t,n),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCREEN_VIEWPORT_RATIO=t.VIEWPORT_WIDTH=t.VIEWPORT_HEIGHT=void 0;t.VIEWPORT_HEIGHT=1080;t.VIEWPORT_WIDTH=720;var n=window.innerHeight/1080;t.SCREEN_VIEWPORT_RATIO=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={loadImage:function(e){return new Promise(function(t,r){var n=new Image;n.addEventListener("load",function(){t(n)},!1),n.addEventListener("error",function(){r(new Error("Failed to load ".concat(e)))}),n.src=e})}};t.default=n},function(e,t,r){"use strict";var n=s(r(0)),o=s(r(5)),i=s(r(6)),a=s(r(14)),u=r(2);function s(e){return e&&e.__esModule?e:{default:e}}document.getElementById("playing-space").style.width="".concat(u.VIEWPORT_WIDTH*u.SCREEN_VIEWPORT_RATIO,"px");var c=new n.default(document.getElementById("main-canvas")),l=new i.default,f=[l,new o.default(c,l)];l.spawnRocket();var d=0;function p(){var e=Date.now(),t=(e-d)/(0,a.default)();d=e,f.forEach(function(e){e.update(t)}),c.clear(),f.forEach(function(e){e.draw(c)}),requestAnimationFrame(p)}Promise.all(f.map(function(e){return e.load()})).then(function(){d=Date.now(),requestAnimationFrame(p)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(3)),o=i(r(1));i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){function t(e){var r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(o=s(t).call(this))||"object"!==a(o)&&"function"!=typeof o?c(n):o,f(c(r),"wasMouseDown",void 0),f(c(r),"wallToolBounds",void 0),f(c(r),"wallToolImage",void 0),f(c(r),"wallGrabPos",void 0),r.fighterToolBounds={x:e.width/2-128-8,y:.84*(e.height-120)},r}var r,i,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o["default"]),r=t,(i=[{key:"load",value:function(){var e=this;return n.default.loadImage("./images/fighter.png").then(function(t){e.fighterToolImage=t,e.fighterToolBounds.height=t.height/4,e.fighterToolBounds.width=t.width/4})}},{key:"draw",value:function(e){e.drawImage(this.fighterToolImage,this.fighterToolBounds.x,this.fighterToolBounds.y,this.fighterToolBounds.width,this.fighterToolBounds.height)}},{key:"update",value:function(){}}])&&u(r.prototype,i),d&&u(r,d),t}();t.default=d},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _entity=_interopRequireDefault(__webpack_require__(1)),_canvas=_interopRequireDefault(__webpack_require__(0)),_rocket=_interopRequireDefault(__webpack_require__(7)),_answerField=_interopRequireDefault(__webpack_require__(8)),_replayButton=_interopRequireDefault(__webpack_require__(9)),_score=_interopRequireDefault(__webpack_require__(10)),_operations=_interopRequireDefault(__webpack_require__(11)),_formatOperation=_interopRequireDefault(__webpack_require__(12)),_generateOperands2=_interopRequireDefault(__webpack_require__(13));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var COLUMN_SIZE=120,ROW_SIZE=120,NUM_COLUMNS=6,NUM_ROWS=8,GameplayGrid=function(_Entity){function GameplayGrid(){var e;return _classCallCheck(this,GameplayGrid),_defineProperty(_assertThisInitialized(e=_possibleConstructorReturn(this,_getPrototypeOf(GameplayGrid).call(this))),"rockets",void 0),_defineProperty(_assertThisInitialized(e),"gameState",void 0),_defineProperty(_assertThisInitialized(e),"firstNumber",void 0),_defineProperty(_assertThisInitialized(e),"lastNumber",void 0),_defineProperty(_assertThisInitialized(e),"currentOperation",void 0),_defineProperty(_assertThisInitialized(e),"booSound",void 0),e.rockets=[],e.answerField=new _answerField.default,e.replay=new _replayButton.default,e.score=new _score.default,e.operations=new _operations.default,e.displayOperator=document.getElementById("operations"),e.operations.initialOperator=e.displayOperator.value,e.displayOperator.value=e.operations.operatorIndex,e.displayOperator.addEventListener("change",function(){e.operations.operator=e.displayOperator.value,e.getNextRocket(),e.answerField.focus()}),e.booSound=new Audio("../audio/crowd-boo-sound.mp3"),e}return _inherits(GameplayGrid,_Entity),_createClass(GameplayGrid,[{key:"load",value:function(){}},{key:"spawnRocket",value:function(){var e=this;this.currentOperation=this.operations.operator;var t=(0,_generateOperands2.default)(this.currentOperation),r=t.firstNumber,n=t.lastNumber;this.firstNumber=r,this.lastNumber=n;var o=Math.floor(Math.random()*NUM_COLUMNS),i=new _rocket.default(o*COLUMN_SIZE,this.firstNumber,this.lastNumber,(0,_formatOperation.default)(this.currentOperation));i.load().then(function(){return e.rockets.push(i)})}},{key:"draw",value:function(e){this.rockets.forEach(function(t){return t.draw(e)}),"LOST"===this.gameState&&(e.writeText("You lose!","50px sans-serif","#FF6347","left",e.width/2,e.height/2),this.score.saveHighestScore(this.score.value)),"WIN"===this.gameState&&(this.getNextRocket(),this.score.increaseValueBy(5)),this.replay.clicked&&(this.answerField.focus(),this.getNextRocket(),this.score.resetScore(),this.replay.clicked=!1)}},{key:"update",value:function(e){var t=this;"LOST"!==this.gameState&&"WIN"!==this.gameState&&this.rockets.forEach(function(r){r.update(e),r.yPos>NUM_ROWS*ROW_SIZE&&(t.gameState=t.playBooSound()),t.answerField.isSubmitted&&(t.gameState=t.isCorrectAnswer()?"WIN":t.playBooSound())})}},{key:"isCorrectAnswer",value:function(){return this.answerField.value===this.answer}},{key:"getNextRocket",value:function(){this.rockets=[],this.gameState="PLAYING",this.spawnRocket(),this.answerField.clear()}},{key:"playBooSound",value:function(){return this.booSound.play(),"LOST"}},{key:"answer",get:function get(){return eval("".concat(this.firstNumber," ").concat(this.currentOperation,"  ").concat(this.lastNumber))}}]),GameplayGrid}(_entity.default);exports.default=GameplayGrid},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(3)),o=i(r(1));i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){function t(e,r,n,o){var i,u,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u=this,i=!(l=s(t).call(this))||"object"!==a(l)&&"function"!=typeof l?c(u):l,f(c(i),"xPosition",void 0),f(c(i),"yPosition",void 0),f(c(i),"scale",void 0),f(c(i),"totalTime",void 0),f(c(i),"lastAttackTime",void 0),f(c(i),"image",void 0),f(c(i),"state",void 0),i.xPosition=e,i.yPosition=0,i.scale=.2,i.totalTime=0,i.state="DESCENDING",i.firstNumber=r,i.secondNumber=n,i.operator=o,i}var r,i,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o["default"]),r=t,(i=[{key:"load",value:function(){var e=this;return n.default.loadImage("./images/rocket.png").then(function(t){e.image=t})}},{key:"draw",value:function(e){e.drawImage(this.image,this.xPosition,this.yPosition,this.image.width,this.image.height,this.scale,1,"source-over",this.firstNumber,this.secondNumber,this.operator)}},{key:"update",value:function(e){this.yPosition=this.yPosition+10*e,this.totalTime+=e,this.scale=.01*Math.sin(2*this.totalTime)+.7}},{key:"yPos",get:function(){return this.yPosition}}])&&u(r.prototype,i),d&&u(r,d),t}();t.default=d},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSubmitted=!1,this.answerField=document.getElementById("answer"),this.answerField.addEventListener("keydown",function(e){"Enter"===e.key?(t.isSubmitted=!0,t.gunShoot.play()):t.loadGun.play()}),this.focus(),this.loadGun=new Audio("./audio/gun-sound.m4a"),this.gunShoot=new Audio("./audio/gunshoot-sound.m4a")}var t,r,o;return t=e,(r=[{key:"clear",value:function(){this.answerField.value="",this.isSubmitted=!1}},{key:"focus",value:function(){this.answerField.focus()}},{key:"value",get:function(){return parseFloat(this.answerField.value)}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clicked=!1,this.replayButton=document.getElementById("replay"),this.replayButton.addEventListener("click",function(){t.replay()})}var t,r,o;return t=e,(r=[{key:"replay",value:function(){this.clicked=!0}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.score=0,this.scoreWrapper=document.getElementById("score"),this.highestScoreWrapper=document.getElementById("highest-score"),this.displayCurrentScore=this.score,this.saveHighestScore(0),this.displayHighestScore=this.highestScore}var t,r,o;return t=e,(r=[{key:"increaseValueBy",value:function(e){this.score=this.score+e,this.displayCurrentScore=this.score}},{key:"saveHighestScore",value:function(e){(e>this.highestScore||isNaN(this.highestScore))&&(localStorage.setItem("highestScore",e),this.displayHighestScore=e)}},{key:"resetScore",value:function(){this.score=0,this.displayCurrentScore=this.score}},{key:"highestScore",get:function(){return parseInt(localStorage.getItem("highestScore"),10)}},{key:"value",get:function(){return this.score}},{key:"displayCurrentScore",set:function(e){this.scoreWrapper.textContent=e}},{key:"displayHighestScore",set:function(e){this.highestScoreWrapper.textContent=e}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(r="currentOperator")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.operators=["+","-","*","/"]}var t,r,o;return t=e,(r=[{key:"isValidOperator",value:function(e){var t=parseInt(e,10);return this.operators.length>=t&&t>-1}},{key:"operator",get:function(){if(this.currentOperator=this.defaultOperatorIndex,"4"!==this.currentOperator)return this.operators[this.currentOperator];var e=Math.floor(3*Math.random())+1;return this.operators[e]},set:function(e){this.currentOperator=e,localStorage.setItem("currentOperator",e)}},{key:"initialOperator",set:function(e){this.isValidOperator(this.defaultOperatorIndex)||(this.operator=e)}},{key:"operatorIndex",get:function(){return"4"!==this.defaultOperatorIndex?this.operators.indexOf(this.operator):4}},{key:"defaultOperatorIndex",get:function(){return localStorage.getItem("currentOperator")}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return"/"===e?"รท":"*"===e?"x":e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=Math.floor(10*Math.random())+1,r=Math.floor(10*Math.random())+1;return"/"===e&&(r*=t),{firstNumber:r,lastNumber:t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){var e=document.getElementById("score"),t=parseInt(e.textContent,10);return t>=870?20:150-.15*t}}]);