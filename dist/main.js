!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=720,i=window.innerHeight/1080,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvasElement=t,this.context=t.getContext("2d"),t.setAttribute("height",.8*window.innerHeight),t.setAttribute("width",r*i)}return o(e,[{key:"drawImage",value:function(e,t,n,o,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"source-over",l=arguments[8],c=arguments[9],f=o*a,h=r*a,d=(t-(f-o)/2)*i,y=(n-(h-r)/2)*i;this.context.save(),this.context.globalCompositeOperation=s,this.context.globalAlpha=u,this.context.drawImage(e,d,y,f*i,h*i),this.context.font="30px Verdana",this.context.strokeStyle="blue",this.context.strokeText(l+" + "+c,d,y),this.context.restore()}},{key:"clear",value:function(){this.context.fillStyle="#e2fcbf",this.context.fillRect(0,0,this.canvasElement.clientWidth,this.canvasElement.clientHeight)}},{key:"fillRect",value:function(e,t,n,o,r){this.context.fillStyle=e,this.context.globalCompositeOperation="source-over",this.context.fillRect(t*i,n*i,o*i,r*i)}},{key:"writeText",value:function(e,t,n,o,r,a){this.context.fillStyle=n,this.context.font=t,this.context.textAlign=o,this.context.fillText(e,r*i,a*i)}},{key:"height",get:function(){return 1080}},{key:"width",get:function(){return r}},{key:"viewportRatio",get:function(){return i}},{key:"htmlElement",get:function(){return this.canvasElement}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={loadImage:function(e){return new Promise(function(t,n){var o=new Image;o.addEventListener("load",function(){t(o)},!1),o.addEventListener("error",function(){n(new Error("Failed to load "+e))}),o.src=e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0);(o=i)&&o.__esModule;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"load",value:function(){throw new TypeError('Abstract class "Entity" cannot be instantiated directly.')}},{key:"draw",value:function(e){throw new TypeError('Abstract class "Entity" cannot be instantiated directly.')}},{key:"update",value:function(e){throw new TypeError('Abstract class "Entity" cannot be instantiated directly.')}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doBoundsIntersect=function(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=(l(n(1)),l(n(2))),i=(l(n(0)),l(n(8)));n(3);var a=l(n(9)),u=l(n(10)),s=l(n(11));function l(e){return e&&e.__esModule?e:{default:e}}new s.default(document.getElementById("replay"));var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.monsters=[],e.answerField=new a.default(document.getElementById("answer")),e.score=new u.default(document.getElementById("score")),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"load",value:function(){}},{key:"spawnMonster",value:function(){var e=this;this.firstNumber=Math.floor(10*Math.random())+1,this.lastNumber=Math.floor(10*Math.random())+1;var t=Math.floor(6*Math.random()),n=new i.default(120*t,this.firstNumber,this.lastNumber);n.load().then(function(){return e.monsters.push(n)})}},{key:"draw",value:function(e){this.monsters.forEach(function(t){return t.draw(e)}),"LOST"===this.gameState&&e.writeText("You lose!","72px sans-serif","#FF6347","center",e.width/2,e.height/2),"WIN"===this.gameState&&(this.monsters=[],this.gameState="PLAYING",this.spawnMonster(),this.answerField.setValue(),this.score.setValue())}},{key:"update",value:function(e){var t=this;"LOST"!==this.gameState&&"WIN"!==this.gameState&&this.monsters.forEach(function(n){n.update(e),n.yPos>735&&(t.gameState="LOST"),t.answerField.getValue()==t.getAnswer()&&t.answerField.isSubmitted&&(t.gameState="WIN"),t.answerField.getValue()!=t.getAnswer()&&t.answerField.isSubmitted&&(t.gameState="LOST")})}},{key:"getAnswer",value:function(){return this.firstNumber+this.lastNumber}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0);(o=i)&&o.__esModule;var a=null,u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isMouseDown=!1,this._mouseX=0,this._mouseY=0,t.htmlElement.addEventListener("mousedown",function(){n._isMouseDown=!0}),t.htmlElement.addEventListener("mouseup",function(){n._isMouseDown=!1}),t.htmlElement.addEventListener("mousemove",function(e){n._mouseX=(e.pageX-t.htmlElement.offsetLeft)/t.viewportRatio,n._mouseY=(e.pageY-t.htmlElement.offsetTop)/t.viewportRatio}),a=this}return r(e,[{key:"mouseX",get:function(){return this._mouseX}},{key:"mouseY",get:function(){return this._mouseY}},{key:"isMouseDown",get:function(){return this._isMouseDown}}],[{key:"instance",get:function(){if(null==a)throw new Error("InputHelper is not initialized");return a}}]),e}();t.default=u},function(e,t,n){"use strict";var o=u(n(0)),r=u(n(7)),i=u(n(5)),a=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var s=new o.default(document.getElementById("main-canvas"));new i.default(s);var l=new a.default,c=[l,new r.default(s,l)];l.spawnMonster();var f=0;function h(){var e=Date.now(),t=(e-f)/100;f=e,c.forEach(function(e){e.update(t)}),s.clear(),c.forEach(function(e){e.draw(s)}),requestAnimationFrame(h)}Promise.all(c.map(function(e){return e.load()})).then(function(){f=Date.now(),requestAnimationFrame(h)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=u(n(1)),i=u(n(2)),a=(u(n(0)),u(n(4)),u(n(5)));function u(e){return e&&e.__esModule?e:{default:e}}n(3);var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.isPlacingWall=!1,o.wasMouseDown=!1,o.wallToolBounds={x:e.width/2-128-8,y:e.height-120,width:128,height:108},o.wallGrabPos={x:0,y:0},o.grid=n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"load",value:function(){var e=this;return r.default.loadImage("images/wall.png").then(function(t){e.wallToolImage=t})}},{key:"draw",value:function(e){e.fillRect("#ffffff",0,e.height-130,e.width,130),e.fillRect("#333333",0,e.height-133,e.width,3),e.drawImage(this.wallToolImage,this.wallToolBounds.x,this.wallToolBounds.y,this.wallToolBounds.width,this.wallToolBounds.height),this.isPlacingWall&&e.drawImage(this.wallToolImage,a.default.instance.mouseX-this.wallGrabPos.x,a.default.instance.mouseY-this.wallGrabPos.y,this.wallToolBounds.width,this.wallToolBounds.height,1,1,"hard-light")}},{key:"update",value:function(e){var t;t=this.wallToolBounds,a.default.instance.mouseX>t.x&&a.default.instance.mouseX<t.x+t.width&&a.default.instance.mouseY>t.y&&a.default.instance.mouseY<t.y+t.height&&!this.wasMouseDown&&a.default.instance.isMouseDown&&(this.isPlacingWall=!0,this.wallGrabPos={x:a.default.instance.mouseX-this.wallToolBounds.x,y:a.default.instance.mouseY-this.wallToolBounds.y}),this.isPlacingWall&&this.wasMouseDown&&!a.default.instance.isMouseDown&&(this.grid.addWallPiece(a.default.instance.mouseX,a.default.instance.mouseY),this.isPlacingWall=!1),this.wasMouseDown=a.default.instance.isMouseDown}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(1)),i=a(n(2));a(n(0)),n(3);function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.xPosition=e,r.yPosition=0,r.scale=1,r.totalTime=0,r.state="DESCENDING",r.firstNumber=n,r.secondNumber=o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"load",value:function(){var e=this;return r.default.loadImage("images/rocket.png").then(function(t){e.image=t})}},{key:"draw",value:function(e){e.drawImage(this.image,this.xPosition,this.yPosition,128,128,this.scale,1,"source-over",this.firstNumber,this.secondNumber)}},{key:"update",value:function(e){var t=this.target;"DESCENDING"===this.state?this.yPosition=this.yPosition+10*e:"ATTACKING"===this.state&&t&&(t.isDestroyed?this.state="DESCENDING":this.totalTime-this.lastAttackTime>Math.PI&&(t.attack(1),this.lastAttackTime=this.totalTime)),this.totalTime+=e,this.scale=.05*Math.sin(2*this.totalTime)+1}},{key:"yPos",get:function(){return this.yPosition}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSubmitted=!1,this.answerField=t,this.answerField.addEventListener("input",function(e){console.log(t.value)}),this.answerField.addEventListener("keydown",function(e){"Enter"===e.key&&(n.isSubmitted=!0)}),this.answerField.focus()}return o(e,[{key:"getValue",value:function(){return parseFloat(this.answerField.value)}},{key:"setValue",value:function(){this.answerField.value="",this.isSubmitted=!1}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.score=0,this.scoreWrapper=t,this.scoreWrapper.textContent=this.score}return o(e,[{key:"setValue",value:function(){this.score=this.score+5,this.scoreWrapper.textContent=this.score}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.replayButton=t,this.replayButton.addEventListener("click",function(){n.replay()})}return o(e,[{key:"replay",value:function(){document.location.reload()}}]),e}();t.default=r}]);